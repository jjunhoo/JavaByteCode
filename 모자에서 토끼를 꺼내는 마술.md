
- 아무것도 없는 Moja.java 에서 "Rabbit" 문자열을 꺼내는 마술

````java
[ Moja.java ]
pulbic class Moja {
	public String pullOut() {
		return "";
	}
}
````

````java
[ Masulsa.java ]
public class Masulsa {
	public static void main(String[] args) {
		System.out.println(new Moja().pullOut());
	}
}
````

[ 바이트코드 조작 라이브러리 ]
1. ASM 
2. Javassist
3. ByteBuddy

````XML
[ ByteBuddy - Maven ]
<dependency>
	<groupId>net.bytebuddy</groupId>
	<artifactId>byte-buddy</artifactId>
	<version>1.10.1</version>
</dependency>
````

````java
[ Example ] 
public class Masulsa {
	public static void main(String[] args) {
		try {
			// Moja.java의 class 파일이 생성되기 전에 pullOut 메서드의 값을 intercept하여 Rabbit 문자열을 생성하도록 재정의	
			new ByteBuddy().redefine(Moja.class)
				.method(named("pullOut")).intercept(FixedValue.value("Rabbit!"))
				.make().saveIn(new File("Users/junho/workspace/classloadersample/target/classes/")); 
		} catch (IOException e) {
			e.printStaticTrace();
		}
		
	}
}
````

````java
// try문 안에 있는 소스코드를 실행하고 Moja.class 파일의 바이트 코드를 살펴보면, 
// 다음과 같은 코드로 변해있는 것을 알 수 있음
public class Moja {
	public Moja() {

	}
	public String pullOut() {
		return "Rabbit!"
	}
}
````
 

